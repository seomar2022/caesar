<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="~{fragments/header :: headerFragment('encode')}"></th:block>
<body>

<div class="container mt-3">
    <th:block th:replace="fragments/nav :: navFragment"></th:block>
    <h1>Encode</h1>
    <form action="/encode" method="post" onsubmit="checkShift()">
<!--onsubmit属性は、フォームが送信される直前に実行されるJavaScript関数を指定-->
        <textarea name="plainText" placeholder="入力" class="form-control mt-3" rows="1"></textarea>
        <input type="number" name="shift" min="1" max="25" class="form-control mt-3">
        <button class="btn btn-success mt-3">暗号化</button>
    </form>

    <h1 class="mt-3">結果</h1>
    <li th:text="${encodedResult}"></li>
</div>


<script>
function checkShift() {
    var shiftInput = document.getElementsByName("shift")[0];
    if (shiftInput.value === "") {//nullにしたら間違う
        shiftInput.value = 0;
    }
    return true;
}
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

</body>
</html>